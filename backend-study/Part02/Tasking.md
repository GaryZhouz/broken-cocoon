# Part01 Requirement

## 功能描述

作为一名已注册的客户，我希望可以浏览商品，选择商品，输入数量，进行下单。
客户也可以看到自己的订单，且查看每个订单的详细信息。

### 查看商品列表页

客户在登录后，可以在首页看到商品列表，每个商品的关键信息有商品名称、商品单价。客户可以选择想要购买的商品，并且输入想要购买的数量，默认为1。当商品没有价格或状态为失效时，商品不可进行下单，即无法被选择。

### 客户下单

客户在选择商品后，可以点击“下单”按钮，创建订单。此时订单状态为“已创建”。若没有选择商品，则无法下单。

### 查看订单列表页

客户在选择商品后，可以看见自己下过的订单。订单信息展示为商品信息（商品名称、商品单价、商品数量）、订单总价、订单状态。

### 查看订单详情页

客户在浏览订单列表时，可以查看某个订单的详细信息。具体展示为商品信息（商品名称、商品单价、商品数量）、订单总价、订单状态、订单号、创建时间。

### 其他上下文

商品信息可以直接导入数据库中。商品信息的数据结构参考：

```java
class Product {
    private String id;
    private String name;
    @Nullable
    private String price;
    private ProductStatus status;
}

enum ProductStatus {
    INVALID,
    VALID
}
```

## 考查点

1. 代码架构理解，是否理解代码架构，功能代码是否是否匹配架构思想
2. 需求理解，是否能充分理解需求
3. Tasking能力，是否将AC分解成合理的任务
4. 编码能力，是否可以正确实现功能，且代码整洁
5. TDD能力，使用TDD的开发方式
6. 小步提交，遵循小步提交的实践
7. Clean Code

---

# Tasking

1. 用户访问系统，默认跳转`商品列表页`，展示商品列表数据
2. 用户选择商品后下单，根据用户所选商品选择是否创建订单
    - 2.1 未选任何商品
    - 2.2 已选商品，其中不存在没有价格或状态失效的商品
    - 2.3 已选商品，其中存在没有价格或者状态失效的商品
3. 用户下单后进入`订单列表页`，仅展示当前用户的所有订单
4. 用户点击订单进入`订单详情页`，展示当前用户点击的订单详细信息
    - 4.1 该订单属于该用户下过的单
    - 4.2 该订单不属于该用户下过的单

商品数据结构参考：

```json
{
  "id": 1,
  "name": "iPhone 12",
  "price": "5999",
  "status": "VALID"
}
```

订单数据结构参考

```json
{
  "id": 1,
  "products": [
    {
      "id": "1",
      "name": "iPhone 12",
      "quantity": 1,
      "price": "5999"
    }
  ],
  "totalPrice": "5999",
  "status": "CREATED",
  "createTime": "2023-10-07 12:00:00",
  "createBy": "1",
  "receivingAddress": "xxx",
  "receivingNumber": "13878789898"
}
```

#### 结构树

```
APP
└──adapter
   └──in
   └──out
└──application
   └──domain
      └──model
      └──service
   └──port
      └──in
      └──out
└──common
   └──exception
   └──logging
   └──model
└──configuration

```

### 1. 用户访问系统，默认跳转`商品列表页`，展示商品列表数据

```
Given 用户进入商品列表页
Then 能够展示系统所有的商品数据
```

### 2. 用户选择商品后下单，根据用户所选商品选择是否创建订单

```
AC1
Given 用户未选择任何商品
When 进行下单操作
Then 不允许创建订单

AC2
Given 用户选择的商品中不包含没有价格或状态失效的商品
When 进行下单操作
Then 创建订单

AC3
Given 用户选择的商品中包含没有价格或状态失效的商品
When 进行下单操作
Then 不允许创建订单
```

### 3. 用户下单后进入`订单列表页`，仅展示当前用户的所有订单

```
AC1
Given 用户查询订单列表
Then 仅展示当前用户的订单信息
```

### 4. 用户点击订单进入`订单详情页`，展示当前用户点击的订单详细信息

```
AC1
Given 用户查询订单详情
When 订单属于该用户
Then 展示订单详情

AC2
Given 用户查询订单详情
When 订单不属于该用户
Then 不展示订单详情
```
